(function(e){var t=window.iiroseForgeContext_0,n=function(e,t){for(var n=0,o=e.length;n<o;n++)t(n,e[n])},o=function(e){return-1<e.indexOf("&")&&(e=e.replace(/&/g,"&amp;")),-1<e.indexOf("<")&&(e=e.replace(/</g,"&lt;")),-1<e.indexOf(">")&&(e=e.replace(/>/g,"&gt;")),-1<e.indexOf('"')&&(e=e.replace(/"/g,"&quot;")),-1<e.indexOf("'")&&(e=e.replace(/'/g,"&#039;")),-1<e.indexOf("\\")&&(e=e.replace(/\\/g,"&#092;")),e},i=function(e,t,o,i,a){var l=new MutationObserver(function(e){n(e,function(e,n){switch(n.type){case"attributes":t&&t(n.target,n.attributeName,n.attributeNamespace,n.oldValue);break;case"characterData":o&&o(n.target,n.oldValue);break;case"childList":i&&i(n.target,n.addedNodes,n.removedNodes);break}})});return l.observe(e,a),l},a=function(e,t,o){var i=e,a=0;return n(t,function(e,t){if(i.childNodes?(i=i.childNodes,a=i.length):a=i.cNum,t<0&&(t+=a),!i[t])return!1;i=i[t]}),null!=o?i[o]:i},l=function(e){function t(){var e="";n(i,function(t,n){e+=n}),o.innerHTML=e}var o=document.createElement("style"),i=[];return e.appendChild(o),function(e){var n=i.length;return i.push(e||""),e&&t(),function(e){i[n]=e,t()}}}(document.body),r=function(e){l(".qwqNotifEntry{padding:0.8em;pointer-events:auto;float:right;clear:both;margin-top:1em;border-radius:3em 0px 0px 3em;opacity:1;transition:opacity 1s,margin-top 1.2s;background-color:white;border:2px solid rgba(200,213,255,0.8);border-right:0px;}.qwqNotifEntry a{text-decoration:none;color:#5D9CEC;}");var t=document.createElement("div");t.id="qwqNotifHolder",t.style.position="fixed",t.style.top=0,t.style.right=0,t.style.zIndex=91001,t.style.width="90%",t.style.pointerEvents="none",t.style.color="#666",t.style.display="none",e.appendChild(t);var n=0;return function(e,o){n++,t.style.display="block";var i=document.createElement("div");i.innerHTML=e,i.className="qwqNotifEntry",i.style.opacity="0",t.appendChild(i),setTimeout(function(){i.style.marginTop="-5em",i.style.opacity="0",setTimeout(function(){n--,i.remove(),n||(t.style.display="none")},1200)},o&&o>600?o:5e3),setTimeout(function(){i.style.opacity="0.9"},300)}}(document.body),d=function(e){var t=document.createElement("div");t.style="position:fixed;top:0px;left:0px;width:100%;height:100%;background:rgba(0,0,0,0.5);box-sizing:border-box;padding:24px;justify-content:center;align-items:center;",t.style.zIndex=91002,t.style.display="none";var o=document.createElement("div");return o.id="qwqSelect",o.style="max-height:100%;min-width:700px;box-shadow:rgb(0,0,0,0.12) 0px 0px 1px,rgb(0,0,0,0.24) 0px 1px 1px;overflow:auto;position:relative;transition:transform 0.175s ease 0s;background-color:rgba(255,255,255,0.8);color:rgba(0,0,0,0.75);",o.addEventListener("click",function(e){e.stopPropagation()}),t.addEventListener("click",function(){o.innerHTML="",t.style.display="none"}),t.appendChild(o),e.appendChild(t),function(e){t.style.display="flex",o.style.transform=document.getElementById("selectHolder").style.transform,n(e,function(e,n){var i=document.createElement("div");i.className="selectHolderBoxItem selectHolderBoxItemIcon",i.innerHTML='<div class="mdi-'+n[1]+'" style="font-family:md;font-size:28px;text-align:center;line-height:100px;height:100px;width:100px;position:absolute;top:0;opacity:0.7;left:0;"></div>'+n[0]+'<div class="fullBox whoisTouch3"></div>',n[2]&&i.addEventListener("click",function(){n[2](),t.click()}),o.appendChild(i)})}}(document.body);e&&r(e,15e3);var s=setTimeout(function(){r("iiroseForge初始化似乎未能正确完成<br/>请尝试重载 若问题持续出现请报告错误",15e3)},6300);if(!(c=localStorage.getItem("functionPos"))||"11"!=c.slice(-2)||(localStorage.removeItem("functionPos"),0)){var c;Probe.init.shellHolder||window.Init.movePanel(6);document.getElementById("functionHolderInfoName").innerText;var p,x,u,m,f=document.getElementById("shellHolder"),y=(document.getElementById("mainHolder"),document.getElementsByClassName("msgholderBox")[0],function(e){var t=a(f,[2,0,-1,0]),n=t.value;t.value=e,t.oninput(),t.dispatchEvent(new KeyboardEvent("keydown",{keyCode:13})),t.value=n}),g=[{x:"消息圆角",s:".room_chat_content,.privatemsgMessagesBodyItemBodyBG,.systemCardMediaShareImg,.systemCardMediaShare{border-radius:2.9em;}"},{x:"圆形头像",s:".msgavatar,.privatemsgMessagesBodyItemIcon,.cardTagAvatar,#functionHolderInfoIcon{border-radius:5em;}"},{x:"选择菜单圆角",s:"#selectHolderBox{border-radius:3em;}"},{x:"全屏菜单圆角",s:".commonBox{border-radius:2.9em;}.commonBox>.commonBoxHead{border-radius:3em 3em 0px 0px;}.commonBoxHead+.textColor.shopItemColor{border-radius:0px 0px 3em 3em;}"},{x:"图片圆角",s:"img:not(#albumShow){border-radius:2em;}"},{x:"信息卡圆角",s:".cardTag{border-radius:2.9em;}"}],h=0,b=[{x:"[成员菜单]快速移出",n:!0}],v={textInBox:'<div style="font-weight:bold;width:100%;height:100%;line-height:1.8em;text-align:center;padding:2.2em;box-sizing:border-box;white-space:pre-wrap;font-size:16px !important;color:rgba(0,0,0,0.7);">',menu:"",dEnd:"</div>"},w=[{y:"box",i:"gamepad-variant-outline",x:"小游戏",o:v.textInBox+"正在制作~"+v.dEnd,c:[{y:"box",i:"information",x:"提示",o:v.textInBox+"都缩辽还在做还点进来qwq"+v.dEnd}]},{y:"box",i:"auto-fix",x:"美化",o:v.textInBox+"注入自定义样式"+v.dEnd,c:[{y:"boxes",o:function(e,t){e({y:"box",i:"checkbox-marked",x:"状态",o:v.textInBox+"已加载 "+h+" 个样式"+v.dEnd}),n(g,function(n,o){var i=o.x,a=o.n;e({y:"box",x:i,i:a?"sticker-check":"sticker-plus-outline",o:v.textInBox+(a?"已启用":"未启用")+v.dEnd,c:function(){o.n=!a,h+=1-2*a,p(o),t()}})})}}]},{y:"box",i:"script",x:"脚本",o:v.textInBox+"管理脚本与快速执行"+v.dEnd,c:[{y:"box",i:"cog-box",x:"管理脚本",o:v.textInBox+"暂时无法添加自定义脚本"+v.dEnd},{y:"box",i:"information",x:"提示",o:v.textInBox+"暂时无法禁用脚本"+v.dEnd},{y:"boxes",o:function(e){n(b,function(t,n){var o=n.x,i=n.n;e({y:"box",x:o,i:i?"sticker-check":"sticker-plus-outline",o:v.textInBox+(i?"已启用":"未启用")+v.dEnd,c:function(){}})})}}]},{y:"box",i:"puzzle",x:"插件",o:v.textInBox+"管理插件"+v.dEnd,c:[{y:"box",i:"cog-box",x:"管理插件",o:v.textInBox+"暂时无法添加自定义插件"+v.dEnd}]},{y:"box",i:"dots-horizontal",x:"更多",o:v.textInBox+""+v.dEnd,c:[{y:"box",i:"test-tube",x:"调试",o:v.textInBox+"debug"+v.dEnd,c:[{y:"box",i:"test-tube",x:"测试提示",o:v.textInBox+"测试提示动画"+v.dEnd,c:function(){r("提示动画测试")}}]},{y:"box",i:"information",x:"关于",o:v.textInBox+"关于Forge"+v.dEnd,c:[{y:"box",i:"alpha-c-circle",x:"rose-core 核心版本号",o:v.textInBox+"alpha 2.1"+v.dEnd},{y:"box",i:"needle",x:"iiroseForge 注入器版本号",o:function(){return v.textInBox+(t?t.v():"未连接到iiroseForge")+v.dEnd}},{y:"box",i:"information",x:"关于Forge",o:v.textInBox+'Forge for iirose是一个蔷薇花园工具\n它可以将插件等"打造"进蔷薇花园\n用于美化,实现快捷操作以及与其他人一起游玩小游戏\n(事实上完全没有做好'+v.dEnd}]}]}],E=function(e){l("#qwqMenu::-webkit-scrollbar{width: 0;}");var t=document.createElement("div");t.id="qwqMenu",t.style.display="none",t.style.position="fixed",t.style.top=0,t.style.left=0,t.style.zIndex=91e3,t.style.height="100%",t.style.width="100%",t.style.backgroundColor="rgba(255,255,255,0.8)";var o="width:0;flex-grow:1;justify-content:center;padding:0 24px;box-sizing:border-box;",i="font-family:md;display:inline-block;vertical-align:top;height:100%;opacity:0.7;font-size:24px !important;line-height:40px;",a="display: inline-block;vertical-align:top;height:100%;font-weight:bold;margin-left:22px;font-size:14px !important;line-height:40px;overflow:hidden;white-space:pre;text-overflow:ellipsis;";t.innerHTML='<div class="mdi-anvil" style="opacity:.8;background-color:#303030;width:100%;box-shadow:0 0 1px rgb(0,0,0,0.12),0 1px 1px rgb(0,0,0,0.24);z-index:2;font-family:md;height:40px;line-height:40px;font-size:26px !important;padding:0 64px 0 24px;white-space:nowrap;box-sizing:border-box;position:relative;color:#fff;"><span style="font-size: 16px !important;opacity:0.7;font-weight:bold;margin-left:24px;height:100%;line-height:40px;display:inline;vertical-align:top;">欢迎使用Forge for iirose</span></div><div class="contentItemBtn" style="color:#303030;background:#fff;opacity:.8;display:flex;height:40px;position:absolute;bottom:0;width:100%;box-shadow:0 0 1px rgb(0,0,0,0.12),0 1px 1px rgb(0,0,0,0.24);z-index:2;"><button style="'+o+'display:none;"><span style="'+i+'" class="mdi-keyboard-return"></span><span style="'+a+'">返回</span></button><button style="'+o+'display:flex;background-color:rgba(100,100,100,0.1);"><span style="'+i+'" class="mdi-eye-off-outline"></span><span style="'+a+'">隐藏</span></button><button style="'+o+'display:none;"><span style="'+i+'" class="mdi-check"></span><span style="'+a+'">确定</span></button></div>';var r=t.childNodes[0],d=t.childNodes[1],s=d.childNodes[0],c=d.childNodes[1];d.childNodes[2];c.addEventListener("click",function(){t.style.display="none"});var p=document.createElement("div");return p.style.position="absolute",p.style.top="40px",p.style.bottom="40px",p.style.left="12px",p.style.right="12px",p.style.overflowY="scroll",t.appendChild(p),function(e,t,o){function i(){0==s.length?t.style.display="none":t.style.display="flex"}function a(e,t,n){s.push(e),c.push([t,n])}function l(){var e=c.pop();return{list:s.pop(),icon:e[0],title:e[1]}}function r(t,n){var l=document.createElement("div"),r="max-width:calc(100% - 24px);min-width:355.2px;min-height:200px;float:left;box-shadow:0 0 1px rgb(0,0,0,0.12),0 1px 1px rgb(0,0,0,0.24);margin:24px 12px 0px 12px;position:relative;";null!=t.c&&(r+="cursor:url(../../../../images/cursor/theme/2.cur),pointer;"),l.style=r;var d=document.createElement("div");d.style="background-color:rgba(255,255,255,0.2);color:rgba(0,0,0,0.4);height:100px;width:100%;display:flex;justify-content:center;padding:0 24px;box-sizing:border-box;",l.appendChild(d);var s=document.createElement("span");s.style="line-height:100px;font-size:30px !important;font-family:md;display:inline-block;vertical-align:top;height:100%;opacity:0.7;",s.className="mdi-"+t.i,d.appendChild(s);var c=document.createElement("span");c.style="line-height:100px;font-size:20px !important;display:inline-block;vertical-align:top;height:100%;font-weight:bold;margin-left:22px;overflow:hidden;white-space:pre;text-overflow:ellipsis;",c.innerText=t.x,d.appendChild(c);var x=document.createElement("div");x.style="width:100%;min-height:100px;background-color:rgba(255,255,255,0.5);color:rgba(0,0,0,0.75);","function"==typeof t.o?x.innerHTML=t.o():x.innerHTML=t.o,l.appendChild(x),"function"==typeof t.c?l.addEventListener("click",t.c):"object"==typeof t.c&&l.addEventListener("click",function(){a(p,o.className,o.innerHTML),p=t.c,o.className="mdi-"+t.i,o.innerHTML='<span style="font-size: 16px !important;opacity:0.7;font-weight:bold;margin-left:24px;height:100%;line-height:40px;display:inline;vertical-align:top;">'+t.x+"</span>",n(p),i()}),e.appendChild(l)}function d(t){t||(t=p),e.innerHTML="",n(t,function(e,t){switch(t.y){case"box":r(t,d);break;case"boxes":t.o(r,d);break}});var o=document.createElement("div");o.style="width:calc(100% - 24px);height:200px;float:left;position:relative;",e.appendChild(o)}var s=[],c=[],p=w;d(p),t.addEventListener("click",function(){var e=l();p=e.list,o.className=e.icon,o.innerHTML=e.title,i(),d(p)})}(p,s,r),e.appendChild(t),t}(document.body);x=document.getElementById("functionHolder").childNodes[0],u=document.createElement("div"),u.className="functionButton",u.style="background:#fff;box-shadow:0 0 1px rgb(0,0,0,0.12),0 1px 1px rgb(0,0,0,0.24);position:relative;z-index:1;",u.innerHTML='<span class="functionBtnIcon mdi-anvil" style="transform: rotate(180deg);"></span><span class="functionBtnFont">Forge菜单</span><span class="functionBtnGroupIcon" style="transform: rotate(-90deg);"></span>',x.insertBefore(u,x.childNodes[1]),u.addEventListener("click",function(){E.style.display="block",document.getElementById("functionHolderDarker").click()}),m=document.getElementById("selectHolderBox"),i(m,void 0,void 0,function(e,t,n){if("selectHolderBox"==e.id&&6==t.length&&"mdi-badge-account-horizontal"==a(t[1],[0],"className")&&"mdi-message"==a(t[2],[0],"className")&&"mdi-incognito"==a(t[3],[0],"className")&&"mdi-at"==a(t[4],[0],"className")&&"mdi-menu"==a(t[5],[0],"className")){var i=a(t[0],[0,0,0],"data"),l=document.createElement("div");l.className="selectHolderBoxItem selectHolderBoxItemIcon",l.innerHTML='<div class="mdi-clipboard-text-play" style="font-family:md;font-size:28px;text-align:center;line-height:100px;height:100px;width:100px;position:absolute;top:0;opacity:0.7;left:0;"></div>执行脚本<div class="fullBox whoisTouch3"></div>',l.addEventListener("click",function(){d([["移出","account-arrow-right",function(){y('~ # "'+o(i)+'"')}]]),m.parentNode.click()}),m.appendChild(l)}},{childList:!0});p=function(){var e;if(t){var o=t.g("styleStatus");if("string"==typeof o){e={};var i=o.split("\n",128);n(i,function(t,n){e[n]=!0})}}n(g,function(t,n){(n.n=!(!e||!e[n.x]))&&h++,n.o=l(n.n?n.s:"")}),h&&r("已从暂存中加载 "+h+" 个样式");var a=0;return function(e){e.o(e.n?e.s:""),t&&(a&&clearTimeout(a),a=setTimeout(function(){var e=[];n(g,function(t,n){n.n&&e.push(n.x)}),t.s("styleStatus",e.join("\n")),r("已保存到暂存 "+h+" 个样式")},3600))}}(),clearTimeout(s)}else setTimeout(function(){location.reload()},1e3)})();
